# GCP Secret Manager SecretStore
# This connects External Secrets Operator to GCP Secret Manager
#
# Prerequisites:
# 1. GCP service account with Secret Manager Secret Accessor role
# 2. Service account key stored as Kubernetes secret
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: gcp-secret-manager
  namespace: default
spec:
  provider:
    gcpsm:
      # Your GCP project ID
      projectID: "craftique-482022"
      
      # Authentication using Workload Identity (no service account keys needed!)
      auth:
        workloadIdentity:
          clusterLocation: us-central1-a  # Update with your cluster region
          clusterName: cluster-1  # Update with your cluster name
          serviceAccountRef:
            name: external-secrets
